
  

Этот скрипт автоматически отправляет уведомления в Telegram-чат о статусе проверки работ на образовательной платформе [Devman](https://dvmn.org/).

  

## Требования

  

- Python 3.9

- Файл зависимостей `requirements.txt`

- Файл конфигурации `.env`

  

## Установка

1. Клонируйте репозиторий:

```bash
git  clone  https://github.com/Evgeny1337/WorkCheckerWithLogs.git
cd  WorkCheckerWithLogs
```

2. Установка зависимостей:

```bash
pip  install  -r  requirements.txt
```

3. Создайте файл .env в корне проекта и добавьте переменные:

```ini
TG_TOKEN=ваш_токен_бота_telegram
TG_LOG_CHAT_ID=ваш_токен_бота_telegram_для_отправки_логов
DEVMAN_TOKEN=ваш_токен_devman
```

## Запуск

```bash
python  main.py
```

## Как это работает

1. При запуске скрипта бот начинает отслеживать сообщения, которые ему отправляет пользователь.

2. Чтобы бот начал отправлять уведомления необходимо отправить команду ```/start``` , после чего программа получит данные о вашем id.

3.  Для настройки чата логирования администратор должен отправить команду  `/set`  **в нужном чате**.

4. Скрипт проверяет статус проверки работ на Devman через API.

5. При обнаружении новых результатов проверки:

	- Формируется информативное сообщение

	- Сообщение отправляется в Telegram-чат через бота

## Развертывание на сервере
Бот развернут на сервере с характеристиками:

-   IP-адрес:  `195.133.194.120`
    
-   Пользователь:  `root`
    
-   Порт SSH:  `22`

Для подключения к серверу:
```bash
ssh root@195.133.194.120 -p 22
```
Расположение проекта:
```bash
cd /opt/WorkCheckerWithLogs
```
Запуск сервиса приложения:
```bash
systemctl start workcheck.service
```